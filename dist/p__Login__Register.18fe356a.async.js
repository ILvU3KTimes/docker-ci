(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"+ogj":function(e,t,r){e.exports={main:"antd-pro-pages-login-register-main",getCaptcha:"antd-pro-pages-login-register-getCaptcha",submit:"antd-pro-pages-login-register-submit",login:"antd-pro-pages-login-register-login",error:"antd-pro-pages-login-register-error",success:"antd-pro-pages-login-register-success",warning:"antd-pro-pages-login-register-warning","progress-pass":"antd-pro-pages-login-register-progress-pass",progress:"antd-pro-pages-login-register-progress"}},UADf:function(e,t,r){e.exports={"ant-popover":"ant-popover","ant-popover-hidden":"ant-popover-hidden","ant-popover-placement-top":"ant-popover-placement-top","ant-popover-placement-topLeft":"ant-popover-placement-topLeft","ant-popover-placement-topRight":"ant-popover-placement-topRight","ant-popover-placement-right":"ant-popover-placement-right","ant-popover-placement-rightBottom":"ant-popover-placement-rightBottom","ant-popover-placement-rightTop":"ant-popover-placement-rightTop","ant-popover-placement-bottom":"ant-popover-placement-bottom","ant-popover-placement-bottomLeft":"ant-popover-placement-bottomLeft","ant-popover-placement-bottomRight":"ant-popover-placement-bottomRight","ant-popover-placement-left":"ant-popover-placement-left","ant-popover-placement-leftBottom":"ant-popover-placement-leftBottom","ant-popover-placement-leftTop":"ant-popover-placement-leftTop","ant-popover-inner":"ant-popover-inner","ant-popover-title":"ant-popover-title","ant-popover-inner-content":"ant-popover-inner-content","ant-popover-message":"ant-popover-message",anticon:"anticon","ant-popover-message-title":"ant-popover-message-title","ant-popover-buttons":"ant-popover-buttons","ant-popover-arrow":"ant-popover-arrow","ant-popover-content":"ant-popover-content"}},iPfc:function(e,t,r){"use strict";r.r(t);r("14J3");var a=r("BMrR"),o=(r("+L6B"),r("2/Rp")),n=(r("jCWc"),r("kPKH")),i=(r("cIOH"),r("UADf"),r("q1tI")),s=r.n(i),p=r("3S7+"),l=r("H84U"),c=r("6CfX");function u(e){"@babel/helpers - typeof";return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m.apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,r){return t&&g(e.prototype,t),r&&g(e,r),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e){var t=E();return function(){var r,a=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var j=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]])}return r},P=function(e){v(r,e);var t=y(r);function r(){var e;return f(this,r),e=t.apply(this,arguments),e.saveTooltip=function(t){e.tooltip=t},e.renderPopover=function(t){var r=t.getPrefixCls,a=e.props,o=a.prefixCls,n=j(a,["prefixCls"]);delete n.title;var s=r("popover",o);return i["createElement"](p["a"],m({},n,{prefixCls:s,ref:e.saveTooltip,overlay:e.getOverlay(s)}))},e}return d(r,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"getOverlay",value:function(e){var t=this.props,r=t.title,a=t.content;return Object(c["a"])(!("overlay"in this.props),"Popover","`overlay` is removed, please use `content` instead, see: https://u.ant.design/popover-content"),i["createElement"]("div",null,r&&i["createElement"]("div",{className:"".concat(e,"-title")},r),i["createElement"]("div",{className:"".concat(e,"-inner-content")},a))}},{key:"render",value:function(){return i["createElement"](l["a"],null,this.renderPopover)}}]),r}(i["Component"]);P.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};r("MXD1");var M,S,C,k=r("CFYs"),x=r("p0pE"),D=r.n(x),N=r("2Taf"),F=r.n(N),R=r("vZ4D"),T=r.n(R),q=r("l4Ni"),z=r.n(q),B=r("ujKo"),L=r.n(B),I=r("MhPg"),_=r.n(I),U=(r("5NDa"),r("5rEg")),V=(r("OaEy"),r("2fM7")),A=(r("y8nQ"),r("Vl3Y")),G=r("MuoO"),H=r("LLXN"),J=r("wY1l"),W=r.n(J),X=r("3a4m"),Y=r.n(X),K=r("+ogj"),Q=r.n(K);function Z(e,t,r){return t=L()(t),z()(e,$()?Reflect.construct(t,r||[],L()(e).constructor):t.apply(e,r))}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($=function(){return!!e})()}var ee=A["a"].Item,te=V["a"].Option,re=U["a"].Group,ae={ok:s.a.createElement("div",{className:Q.a.success},s.a.createElement(H["FormattedMessage"],{id:"validation.password.strength.strong"})),pass:s.a.createElement("div",{className:Q.a.warning},s.a.createElement(H["FormattedMessage"],{id:"validation.password.strength.medium"})),poor:s.a.createElement("div",{className:Q.a.error},s.a.createElement(H["FormattedMessage"],{id:"validation.password.strength.short"}))},oe={ok:"success",pass:"normal",poor:"exception"},ne=(M=Object(G["connect"])(function(e){var t=e.register,r=e.loading;return{register:t,submitting:r.effects["register/submit"]}}),S=A["a"].create(),M(C=S(C=function(e){function t(){var e;F()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=Z(this,t,[].concat(a)),e.state={count:0,confirmDirty:!1,visible:!1,help:"",prefix:"86"},e.onGetCaptcha=function(){var t=59;e.setState({count:t}),e.interval=setInterval(function(){t-=1,e.setState({count:t}),0===t&&clearInterval(e.interval)},1e3)},e.getPasswordStatus=function(){var t=e.props.form,r=t.getFieldValue("password");return r&&r.length>9?"ok":r&&r.length>5?"pass":"poor"},e.handleSubmit=function(t){t.preventDefault();var r=e.props,a=r.form,o=r.dispatch;a.validateFields({force:!0},function(t,r){if(!t){var a=e.state.prefix;o({type:"register/submit",payload:D()({},r,{prefix:a})})}})},e.handleConfirmBlur=function(t){var r=t.target.value,a=e.state.confirmDirty;e.setState({confirmDirty:a||!!r})},e.checkConfirm=function(t,r,a){var o=e.props.form;r&&r!==o.getFieldValue("password")?a(Object(H["formatMessage"])({id:"validation.password.twice"})):a()},e.checkPassword=function(t,r,a){var o=e.state,n=o.visible,i=o.confirmDirty;if(r)if(e.setState({help:""}),n||e.setState({visible:!!r}),r.length<6)a("error");else{var s=e.props.form;r&&i&&s.validateFields(["confirm"],{force:!0}),a()}else e.setState({help:Object(H["formatMessage"])({id:"validation.password.required"}),visible:!!r}),a("error")},e.changePrefix=function(t){e.setState({prefix:t})},e.renderPasswordProgress=function(){var t=e.props.form,r=t.getFieldValue("password"),a=e.getPasswordStatus();return r&&r.length?s.a.createElement("div",{className:Q.a["progress-".concat(a)]},s.a.createElement(k["a"],{status:oe[a],className:Q.a.progress,strokeWidth:6,percent:10*r.length>100?100:10*r.length,showInfo:!1})):null},e}return _()(t,e),T()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.form,r=e.register,a=t.getFieldValue("mail");"ok"===r.status&&Y.a.push({pathname:"/user/register-result",state:{account:a}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.form,r=e.submitting,i=t.getFieldDecorator,p=this.state,l=p.count,c=p.prefix,u=p.help,m=p.visible;return s.a.createElement("div",{className:Q.a.main},s.a.createElement("h3",null,s.a.createElement(H["FormattedMessage"],{id:"app.register.register"})),s.a.createElement(A["a"],{onSubmit:this.handleSubmit},s.a.createElement(ee,null,i("mail",{rules:[{required:!0,message:Object(H["formatMessage"])({id:"validation.email.required"})},{type:"email",message:Object(H["formatMessage"])({id:"validation.email.wrong-format"})}]})(s.a.createElement(U["a"],{size:"large",placeholder:Object(H["formatMessage"])({id:"form.email.placeholder"})}))),s.a.createElement(ee,{help:u},s.a.createElement(P,{getPopupContainer:function(e){return e.parentNode},content:s.a.createElement("div",{style:{padding:"4px 0"}},ae[this.getPasswordStatus()],this.renderPasswordProgress(),s.a.createElement("div",{style:{marginTop:10}},s.a.createElement(H["FormattedMessage"],{id:"validation.password.strength.msg"}))),overlayStyle:{width:240},placement:"right",visible:m},i("password",{rules:[{validator:this.checkPassword}]})(s.a.createElement(U["a"],{size:"large",type:"password",placeholder:Object(H["formatMessage"])({id:"form.password.placeholder"})})))),s.a.createElement(ee,null,i("confirm",{rules:[{required:!0,message:Object(H["formatMessage"])({id:"validation.confirm-password.required"})},{validator:this.checkConfirm}]})(s.a.createElement(U["a"],{size:"large",type:"password",placeholder:Object(H["formatMessage"])({id:"form.confirm-password.placeholder"})}))),s.a.createElement(ee,null,s.a.createElement(re,{compact:!0},s.a.createElement(V["a"],{size:"large",value:c,onChange:this.changePrefix,style:{width:"20%"}},s.a.createElement(te,{value:"86"},"+86"),s.a.createElement(te,{value:"87"},"+87")),i("mobile",{rules:[{required:!0,message:Object(H["formatMessage"])({id:"validation.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(H["formatMessage"])({id:"validation.phone-number.wrong-format"})}]})(s.a.createElement(U["a"],{size:"large",style:{width:"80%"},placeholder:Object(H["formatMessage"])({id:"form.phone-number.placeholder"})})))),s.a.createElement(ee,null,s.a.createElement(a["a"],{gutter:8},s.a.createElement(n["a"],{span:16},i("captcha",{rules:[{required:!0,message:Object(H["formatMessage"])({id:"validation.verification-code.required"})}]})(s.a.createElement(U["a"],{size:"large",placeholder:Object(H["formatMessage"])({id:"form.verification-code.placeholder"})}))),s.a.createElement(n["a"],{span:8},s.a.createElement(o["a"],{size:"large",disabled:l,className:Q.a.getCaptcha,onClick:this.onGetCaptcha},l?"".concat(l," s"):Object(H["formatMessage"])({id:"app.register.get-verification-code"}))))),s.a.createElement(ee,null,s.a.createElement(o["a"],{size:"large",loading:r,className:Q.a.submit,type:"primary",htmlType:"submit"},s.a.createElement(H["FormattedMessage"],{id:"app.register.register"})),s.a.createElement(W.a,{className:Q.a.login,to:"/User/Login"},s.a.createElement(H["FormattedMessage"],{id:"app.register.sign-in"})))))}}])}(i["Component"]))||C)||C);t["default"]=ne}}]);