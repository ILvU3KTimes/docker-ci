(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[51],{TpTw:function(e,t,a){e.exports={edit:"antd-pro-pages-taishan-weigh-index-edit"}},gpeb:function(e,t,a){"use strict";a.r(t);a("2qtc");var n,l,r,i=a("kLXV"),o=a("jehZ"),c=a.n(o),s=(a("giR+"),a("fyUT")),m=(a("DZo9"),a("8z0m")),d=(a("Pwec"),a("CtXQ")),p=(a("14J3"),a("BMrR")),u=(a("+L6B"),a("2/Rp")),h=(a("OaEy"),a("2fM7")),g=(a("5NDa"),a("5rEg")),f=(a("jCWc"),a("kPKH")),w=a("p0pE"),E=a.n(w),b=a("2Taf"),y=a.n(b),k=a("vZ4D"),v=a.n(k),x=a("l4Ni"),D=a.n(x),C=a("ujKo"),M=a.n(C),O=a("MhPg"),F=a.n(O),I=(a("iQDF"),a("+eQT")),T=(a("y8nQ"),a("Vl3Y")),R=a("q1tI"),Y=a.n(R),L=a("MuoO"),j=a("LLXN"),N=a("jwXe"),S=a("ektK"),U=a("YbjC"),V=a("TpTw"),B=a.n(V);function P(e,t,a){return t=M()(t),D()(e,K()?Reflect.construct(t,a||[],M()(e).constructor):t.apply(e,a))}function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(K=function(){return!!e})()}var Q=T["a"].Item,W=I["a"].RangePicker,X=(n=Object(L["connect"])(function(e){var t=e.weigh,a=e.loading,n=e.global;return{weigh:t,loading:a.models.weigh,global:n}}),l=T["a"].create(),n(r=l(r=function(e){function t(){var e;y()(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return e=P(this,t,[].concat(n)),e.state={stateVisible:!1},e.handleSearch=function(t){var a=e.props.dispatch,n=t.dateRange,l=E()({},t);n&&(l=E()({},t,{releaseTime_gt:n?U["a"].format(n[0],"YYYY-MM-DD hh:mm:ss"):null,releaseTime_lt:n?U["a"].format(n[1],"YYYY-MM-DD hh:mm:ss"):null}),l.dateRange=null),a(Object(S["a"])(l))},e.renderSearchForm=function(t){var a=e.props,n=a.form,l=(a.weigh,n.getFieldDecorator);return Y.a.createElement(p["a"],{gutter:{md:8,lg:24,xl:48}},Y.a.createElement(f["a"],{md:6,sm:24},Y.a.createElement(Q,{label:"\u53d1\u751f\u65f6\u95f4"},l("dateRange")(Y.a.createElement(W,{style:{width:"100%"}})))),Y.a.createElement(f["a"],{md:6,sm:24},Y.a.createElement(Q,{label:"\u8f66\u724c\u53f7"},l("plateNum")(Y.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165\u8f66\u724c\u53f7"})))),Y.a.createElement(f["a"],{md:6,sm:24},Y.a.createElement(Q,{label:"\u76f8\u673a\u4f4d\u7f6e"},l("cameraLocation")(Y.a.createElement(h["a"],{placeholder:"\u8bf7\u9009\u62e9\u76f8\u673a\u4f4d\u7f6e"},Y.a.createElement(h["a"].Option,{key:123,value:123},"123"),Y.a.createElement(h["a"].Option,{key:12,value:12},"13"))))),Y.a.createElement(f["a"],null,Y.a.createElement("div",{style:{float:"right"}},Y.a.createElement(u["a"],{type:"primary",htmlType:"submit"},Y.a.createElement(j["FormattedMessage"],{id:"button.search.name"})),Y.a.createElement(u["a"],{style:{marginLeft:8},onClick:t},Y.a.createElement(j["FormattedMessage"],{id:"button.reset.name"})))))},e.handleClick=function(t,a){"view"==t&&e.setState({stateVisible:!0,id:a.id})},e.handleOk=function(){e.setState({stateVisible:!1})},e.beforeUpload=function(e){var t=e.name.split(".").pop(),a=20,n=".xlsx, .xls",l="\u4e0a\u4f20\u6587\u4ef6\u53ea\u80fd\u662f xls/xlsx \u683c\u5f0f!",r=n.replaceAll(" ","");return r.split(",").includes(".".concat(t))?!(e.size/1024/1024>a)||(message.warning("\u4e0a\u4f20\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 ".concat(a,"MB!")),!1):(message.warning(l),!1)},e.handleUpload=function(e){if(0!==Object.keys(e.file).length&&"done"===e.file.status){var t=new FormData;t.append("file",e.file),console.log(t)}},e}return F()(t,e),v()(t,[{key:"componentWillMount",value:function(){this.props.dispatch}},{key:"componentDidMount",value:function(){var e=this.props;e.dispatch,e.location}},{key:"render",value:function(){var e=this,t="Weigh",a=this.state.stateVisible,n=this.props,l=n.form,r=n.loading,o=n.weigh.data,p=n.global.buttons,h=l.getFieldDecorator,g=[{title:"\u53d1\u751f\u65f6\u95f4",dataIndex:"weighingTime",align:"center"},{title:"\u8f66\u724c\u53f7",dataIndex:"plateNum",align:"center"},{title:"\u76f8\u673a\u4f4d\u7f6e",dataIndex:"cameraLocation",align:"center"},{title:"\u72b6\u6001",dataIndex:"weighingIsFalseAlarm",align:"center"},{title:"\u5b9e\u53d1\u91cd\u91cf\uff08\u5428\uff09",dataIndex:"weightNum",align:"center",render:function(t,a){return Y.a.createElement("div",{className:B.a.edit,onClick:function(){return e.handleClick("view",a)}},t,Y.a.createElement(d["a"],{type:"form",style:{marginLeft:"5px"}}))}},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"vehicleType",align:"center"},{title:"\u4e00\u6b21\u79f0\u91cd\uff08\u987f\uff09",dataIndex:"weighingWeight",align:"center"}],f={labelCol:{span:8},wrapperCol:{span:16}};return Y.a.createElement(R["Fragment"],null,Y.a.createElement(N["a"],{code:t,form:l,buttons:p,onSearch:this.handleSearch,renderSearchForm:this.renderSearchForm,loading:r,data:o,columns:g,pkField:"ID",rowKey:"ID"}),Y.a.createElement(i["a"],{title:"\u4eba\u5de5\u5f55\u5165",width:500,visible:a,onOk:this.handleOk,onCancel:this.handleOk,footer:[Y.a.createElement(m["a"],{accept:".xlsx, .xls",showUploadList:!1,beforeUpload:this.beforeUpload,onChange:this.handleUpload,key:"upload"},Y.a.createElement(u["a"],{style:{marginRight:"10px"}},"\u4e0a\u4f20\u68c0\u6d4b\u62a5\u544a")),Y.a.createElement(u["a"],{key:"submit",type:"primary",onClick:this.handleOk},"\u786e\u5b9a")]},Y.a.createElement(T["a"],null,Y.a.createElement(Q,c()({},f,{label:"\u5b9e\u53d1\u91cd\u91cf\uff08\u5428\uff09"}),h("regionName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b9e\u53d1\u91cd\u91cf"}],initialValue:123})(Y.a.createElement(s["a"],{placeholder:"\u8bf7\u8f93\u5165\u5b9e\u53d1\u91cd\u91cf",style:{width:"200px"}}))))))}}])}(R["PureComponent"]))||r)||r);t["default"]=X}}]);